================================================================================
           REDE MAIS SOCIAL - INSTRU√á√ïES DE EXECU√á√ÉO
================================================================================

Este documento cont√©m as instru√ß√µes para configurar, compilar e executar
o sistema Rede Mais Social.

================================================================================
üìã PR√â-REQUISITOS
================================================================================

1. Java JDK 8 ou superior instalado
2. MySQL 8.0 ou superior instalado e rodando
3. Terminal/Prompt de Comando
4. Navegador web (Chrome, Firefox, Edge, etc.)

================================================================================
üóÑÔ∏è CONFIGURA√á√ÉO DO BANCO DE DADOS
================================================================================

1. Certifique-se que o MySQL est√° rodando:
   
   Linux/Mac:
   sudo service mysql start
   
   Windows:
   Inicie o servi√ßo MySQL pelo Painel de Servi√ßos

2. Crie o banco de dados executando o script:
   
   mysql -u root -p < scriptBancoDados.txt
   
   (Se n√£o houver senha no MySQL, use apenas: mysql -u root < scriptBancoDados.txt)

3. Verifique se o banco foi criado:
   
   mysql -u root -p
   SHOW DATABASES;
   USE rede_mais_social;
   SHOW TABLES;

O script cria as seguintes tabelas:
- candidato: Armazena dados dos candidatos a volunt√°rio
- afiliacao: Registra solicita√ß√µes de afilia√ß√£o e tokens de valida√ß√£o

================================================================================
‚ñ∂Ô∏è EXECUTANDO O SISTEMA
================================================================================

No terminal, navegue at√© a pasta do projeto e execute:

   bash run.sh

O script ir√°:
1. Compilar todos os arquivos Java
2. Iniciar o servidor web na porta 8080

Quando ver a mensagem:
   "REDE MAIS SOCIAL - Servidor Web Iniciado"
   "Acesse o sistema em: http://localhost:8080"

O sistema est√° pronto para uso!

================================================================================
üåê ACESSANDO O SISTEMA
================================================================================

Abra seu navegador e acesse:

   http://localhost:8080/index.html

P√°ginas dispon√≠veis:
- http://localhost:8080/index.html - P√°gina inicial
- http://localhost:8080/tipo-afiliacao.html - Escolha tipo de cadastro
- http://localhost:8080/login.html - Login (para candidatos com cadastro)

================================================================================
üß™ TESTANDO O FLUXO COMPLETO
================================================================================

FLUXO 1: CADASTRO COM CPF (Pessoa F√≠sica)
------------------------------------------

1. Acesse: http://localhost:8080/index.html
2. Clique em "Quero me Cadastrar"
3. Escolha "Pessoa F√≠sica (CPF)"
4. Preencha o formul√°rio de identifica√ß√£o:
   - Nome completo
   - Email v√°lido
   - CPF (11 d√≠gitos)
   - Sexo
   - Data de nascimento
   - Nacionalidade
   - Endere√ßo completo
   - Telefone
5. Clique em "Pr√≥ximo"
6. Preencha o formul√°rio de perfil:
   - Perfil (descri√ß√£o sobre voc√™)
   - Habilidades
   - √Åreas de interesse
7. Clique em "Pr√≥ximo"
8. Leia e aceite o termo de compromisso
9. Clique em "Solicitar Afilia√ß√£o"
10. Um token ser√° exibido (anote ou copie)
11. Verifique seu email (o token tamb√©m foi enviado)
12. Cole o token na p√°gina de valida√ß√£o
13. Aguarde aprova√ß√£o

FLUXO 2: CADASTRO COM CNPJ (Pessoa Jur√≠dica)
---------------------------------------------

1. Acesse: http://localhost:8080/index.html
2. Clique em "Quero me Cadastrar"
3. Escolha "Pessoa Jur√≠dica (CNPJ)"
4. Preencha certid√µes:
   - Certid√£o de Probidade Administrativa
   - Certid√£o de Inelegibilidade
5. Clique em "Pr√≥ximo"
6. Preencha dados do representante:
   - Nome do representante
   - Email
   - CNPJ (14 d√≠gitos)
   - Sexo
   - Data de nascimento
   - Nacionalidade
   - Endere√ßo
   - Telefone
7. Continue com os passos 6-13 do Fluxo 1

FLUXO 3: LOGIN (Candidato com cadastro anterior)
-------------------------------------------------

1. Acesse: http://localhost:8080/login.html
2. Digite seu email e CPF
3. O sistema buscar√° seu cadastro anterior
4. Continue de onde parou

================================================================================
üìÅ ESTRUTURA DO PROJETO
================================================================================

Projeto-da-Rede-Mais-Social/
‚îÇ
‚îú‚îÄ‚îÄ src/                              # C√≥digo-fonte Java
‚îÇ   ‚îú‚îÄ‚îÄ WebServer.java                # Servidor HTTP principal
‚îÇ   ‚îú‚îÄ‚îÄ AfiliacaoController.java      # L√≥gica de neg√≥cio de afilia√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ Candidato.java                # Modelo de dados do candidato
‚îÇ   ‚îú‚îÄ‚îÄ Afiliacao.java                # Modelo de dados da afilia√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ CandidatoDAO.java             # Acesso ao banco (candidatos)
‚îÇ   ‚îú‚îÄ‚îÄ AfiliacaoDAO.java             # Acesso ao banco (afilia√ß√µes)
‚îÇ   ‚îú‚îÄ‚îÄ DatabaseConnection.java       # Conex√£o com MySQL
‚îÇ   ‚îú‚îÄ‚îÄ EmailService.java             # Envio de emails
‚îÇ   ‚îî‚îÄ‚îÄ Validador.java                # Valida√ß√µes (CPF, CNPJ, email)
‚îÇ
‚îú‚îÄ‚îÄ bin/                              # Classes compiladas (.class)
‚îÇ
‚îú‚îÄ‚îÄ web/                              # Interface web (HTML/CSS)
‚îÇ   ‚îú‚îÄ‚îÄ index.html                    # P√°gina inicial
‚îÇ   ‚îú‚îÄ‚îÄ tipo-afiliacao.html           # Escolha CPF ou CNPJ
‚îÇ   ‚îú‚îÄ‚îÄ formulario-identificacao.html # Dados pessoais (CPF)
‚îÇ   ‚îú‚îÄ‚îÄ formulario-cnpj.html          # Certid√µes (CNPJ)
‚îÇ   ‚îú‚îÄ‚îÄ formulario-representante-cnpj.html # Dados representante
‚îÇ   ‚îú‚îÄ‚îÄ formulario-perfil.html        # Perfil do volunt√°rio
‚îÇ   ‚îú‚îÄ‚îÄ termo-compromisso.html        # Termo de compromisso
‚îÇ   ‚îú‚îÄ‚îÄ validacao-email.html          # Valida√ß√£o do token
‚îÇ   ‚îú‚îÄ‚îÄ status-aguardando.html        # Aguardando aprova√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ login.html                    # Login de candidatos
‚îÇ   ‚îî‚îÄ‚îÄ styles.css                    # Estilos CSS
‚îÇ
‚îú‚îÄ‚îÄ mysql-connector-j-8.0.33.jar      # Driver JDBC MySQL
‚îú‚îÄ‚îÄ scriptBancoDados.txt              # Script SQL do banco
‚îú‚îÄ‚îÄ run.sh                            # Script para executar
‚îî‚îÄ‚îÄ README.md                         # Documenta√ß√£o do projeto

================================================================================
üîß EXPLICA√á√ÉO DO C√ìDIGO
================================================================================

CAMADA DE APRESENTA√á√ÉO (web/)
------------------------------
Arquivos HTML com formul√°rios e JavaScript que:
- Coletam dados do usu√°rio
- Validam campos no navegador
- Armazenam dados tempor√°rios no sessionStorage
- Fazem requisi√ß√µes AJAX para o backend
- Exibem mensagens de sucesso/erro

CAMADA DE SERVIDOR (WebServer.java)
------------------------------------
Servidor HTTP que:
- Escuta requisi√ß√µes na porta 8080
- Serve arquivos est√°ticos (HTML, CSS)
- Exp√µe APIs REST:
  * POST /api/solicitar-afiliacao - Cria novo candidato
  * POST /api/validar-email - Valida token de email
  * POST /api/verificar-email - Verifica se email j√° existe
- Processa JSON das requisi√ß√µes
- Retorna respostas em JSON

CAMADA DE CONTROLE (AfiliacaoController.java)
----------------------------------------------
L√≥gica de neg√≥cio que:
- Valida dados (email, CPF, CNPJ)
- Cria candidatos no banco de dados
- Gera tokens MD5 de 32 caracteres
- Envia emails de confirma√ß√£o
- Valida tokens recebidos
- Gerencia aprova√ß√£o/rejei√ß√£o

CAMADA DE DADOS (DAOs)
-----------------------
CandidatoDAO.java:
- inserir(): Cria novo candidato no banco
- buscarPorEmail(): Busca candidato pelo email
- buscarPorId(): Busca candidato por ID
- atualizarSituacao(): Atualiza status do candidato

AfiliacaoDAO.java:
- inserir(): Registra nova solicita√ß√£o de afilia√ß√£o
- validarToken(): Verifica se token √© v√°lido
- buscarPorToken(): Busca afilia√ß√£o pelo token
- atualizarStatus(): Atualiza status da afilia√ß√£o

CAMADA DE MODELO (Models)
--------------------------
Candidato.java:
- Representa um candidato com todos seus dados
- Getters e setters para cada atributo

Afiliacao.java:
- Representa uma solicita√ß√£o de afilia√ß√£o
- Cont√©m token, data de solicita√ß√£o e status

UTILIT√ÅRIOS
-----------
DatabaseConnection.java:
- Gerencia conex√£o com MySQL
- Usa pool de conex√µes
- Configura√ß√£o: localhost, porta 3306, usu√°rio root

EmailService.java:
- Envia emails de confirma√ß√£o
- Envia emails de aprova√ß√£o/rejei√ß√£o
- Inclui token no corpo do email

Validador.java:
- validarEmail(): Valida formato de email
- validarCPF(): Valida CPF (11 d√≠gitos)
- validarCNPJ(): Valida CNPJ (14 d√≠gitos)

================================================================================
‚ö†Ô∏è SOLU√á√ÉO DE PROBLEMAS
================================================================================

ERRO: "Cannot connect to MySQL"
--------------------------------
Solu√ß√£o:
1. Verifique se o MySQL est√° rodando
2. Confirme usu√°rio e senha em DatabaseConnection.java
3. Teste conex√£o: mysql -u root -p

ERRO: "Port 8080 already in use"
--------------------------------
Solu√ß√£o:
1. Pare o processo que est√° usando a porta
   Linux/Mac: lsof -ti:8080 | xargs kill -9
   Windows: netstat -ano | findstr :8080
2. Ou altere a porta no WebServer.java

ERRO: "ClassNotFoundException: com.mysql.cj.jdbc.Driver"
---------------------------------------------------------
Solu√ß√£o:
Verifique se mysql-connector-j-8.0.33.jar est√° na pasta do projeto

P√°gina n√£o carrega
------------------
Solu√ß√£o:
1. Verifique se o servidor est√° rodando
2. Confirme a URL: http://localhost:8080/index.html
3. Veja os logs no terminal onde executou run.sh

Token n√£o funciona
------------------
Solu√ß√£o:
1. Copie o token completo (32 caracteres)
2. Verifique se n√£o h√° espa√ßos extras
3. Token √© v√°lido por tempo limitado (conforme configura√ß√£o)

================================================================================
üìß CONFIGURA√á√ÉO DE EMAIL (OPCIONAL)
================================================================================

Por padr√£o, o sistema simula o envio de emails (exibe no console).

Para enviar emails reais, configure em EmailService.java:
1. Defina servidor SMTP (ex: smtp.gmail.com)
2. Configure porta (587 para TLS)
3. Insira email e senha da conta remetente
4. Habilite "Apps menos seguros" ou use senha de aplicativo

================================================================================
üéì INFORMA√á√ïES ACAD√äMICAS
================================================================================

Este projeto foi desenvolvido como trabalho acad√™mico e demonstra:
- Arquitetura MVC (Model-View-Controller)
- Desenvolvimento web full-stack
- Integra√ß√£o frontend-backend
- Persist√™ncia de dados com MySQL
- Valida√ß√µes e seguran√ßa b√°sica
- Interface responsiva
- Sistema de tokens para valida√ß√£o

Tecnologias utilizadas:
- Java (backend)
- HTML/CSS/JavaScript (frontend)
- MySQL (banco de dados)
- JDBC (conex√£o com banco)
- JSON (comunica√ß√£o cliente-servidor)

================================================================================
‚úÖ CHECKLIST DE EXECU√á√ÉO
================================================================================

[ ] MySQL instalado e rodando
[ ] Banco de dados criado (scriptBancoDados.txt executado)
[ ] Java JDK instalado
[ ] Arquivo mysql-connector-j-8.0.33.jar presente
[ ] Executou: bash run.sh
[ ] Servidor iniciou sem erros
[ ] Acessou http://localhost:8080/index.html
[ ] Testou cadastro completo
[ ] Token recebido e validado
[ ] Sistema funcionando corretamente

================================================================================
